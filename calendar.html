<!DOCTYPE html>
<html lang="en">
	<head>
		<title>Facebook | Home</title>
		<link href="./images/favicon.png" rel="icon" type="image/x-icon" />
		<link rel="stylesheet" type="text/css" href="./css/calendar.css">
	</head>
	<body>
		<nav>
			<div id="txtLogo"></div>
		</nav>
		<div class="dayView">
			<div class="timeslots">
				<ul class="container"></ul>
			</div>
			<div class="events"></div>
		</div>
		
		<script type="text/javascript" src="./js/event.js"></script>
		<script type="text/javascript" src="./js/calendar.js"></script>
		<script type="text/javascript" src="./js/jquery-1.11.2.min.js"></script>		
		<script type="text/javascript" src="./js/mustache.min.js"></script>
		<script type="text/javascript">
			$(function() {

				var calendar = new Calendar();
				calendar.renderTimeslots(".timeslots .container", "#timeslotTemplate");

				// global method
				window.layOutDay = function(events){
					calendar.layoutEvents(events, ".dayView .events", "#eventTemplate");
					return "done!";
				}

				window.clearCalendar = function() {
					$(".dayView .events").empty();
					return "cleared!";
				}

				console.log('call layOutDay([{start:xx, end: yy}]) from console. Call clearCalendar to clear.');				
			})

			//var events = [{start:30, end: 120},{start:60, end: 150},{start:90, end: 180},{start:120, end: 180},{start:150, end: 240},{start:210, end: 360},{start:210, end: 240}];
			//var events = [{start:30, end: 120},{start:60, end: 150},{start:90, end: 180},{start:120, end: 180},{start:150, end: 180},{start:150, end: 180}];
		</script>

		<script id="timeslotTemplate" type="x-tmpl-mustache">
			{{#timeslots}}
				{{#ampm}}
					<li class="fullTime">
						<span>{{time}}</span><span class="uppercase">{{ampm}}</span>
					</li>
				{{/ampm}}
				{{^ampm}}
					<li>
						<span>{{time}}</span>
					</li>
				{{/ampm}}
			{{/timeslots}}
		</script>

		<script id="eventTemplate" type="x-tmpl-mustache">
			{{#events}}
				<div class="event" style="width:{{width}}%;height:{{height}}px;left:{{left}}%;top:{{top}}px">
						<span class="title">{{title}}</span>
						<span class="location">{{location}}</span>
					</div>
			{{/events}}
		</script>

	</body>
</html>